##ArgoCD

From the official site: https://argo-cd.readthedocs.io/en/stable/getting_started/

```
$ kubectl create namespace argocd
$ kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
$ kubectl get pods -n argocd
```

Wait until all is running.

Note: You can save the install.yaml and check what it will do.

###Get to the UI

```
$ kubectl get svc -n argocd
```

To make it available on the localhost / from the browser:
```
$ kubectl port-forward -n argocd svc/argocd-server 8080:443
```

https://localhost:8080/login?return_url=https%3A%2F%2Flocalhost%3A8080%2Fapplications

To get the admin user's password read what is in the argocd-initial-admin-secret secret.
```
$ kubectl get secret argocd-initial-admin-secret -n argocd -o yaml
```

It is base64 encoded so you need to decode it:
```
$ echo <ENCODED_PASSWORD> | base64 --decode
```

**Note:** It is autogenerated so you have to do it at each deployment.

### Configure ArgoCD

Create a demo service and manage it with ArgoCD 

By default it is connected to deployment.yaml and service.yaml Kubernetes manifest files for the application.

Create an applications.yaml file to configure how ArgoCD will manage the project.

By default ArgoCD does not remove anything:
- you have changed resource names: the old ones will be there too
- someone added a manual fix to the service: it will stick
- the application (namespace) does not exist yet because it was never deployed

You can add:
- createNamespace: allow ArgoCD to add new namespaces
- self-healing: change back everything which differs from the configuration as code
- prune: Remove everything which was created in previous deployments and do not needed anymore

Also:
- ArgoCD runs periodically. it can be up to 3 minutes that it picks up a change
- If you want inmediate change you can set up a webhook
- Or start it with the button from the admin site

### Run it with Kuztomise

*TODO* 

### Run it with Helm

### Run it on different environments

